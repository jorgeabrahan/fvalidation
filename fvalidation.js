!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("fvalidation",[],t):"object"==typeof exports?exports.fvalidation=t():e.fvalidation=t()}(self,(()=>(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);const t=new class{constructor(){this.emailRegex=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,this.dateRegex=/^[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4}$/,this.dateRegexYearFirst=/^[0-9]{4}\/[0-9]{1,2}\/[0-9]{1,2}$/,this.symbolsRegex=/[^!@#$%^&*)(+=.<>{}[]:;'"|~`_-\/\\]/g,this.currentYear=(new Date).getFullYear(),this.minPwdLenght=15,this.maxPwdLength=1/0,this.minAmountLowerLetters=5,this.minAmountCapitalLetters=5,this.minAmountNumbers=3,this.minAmountSymbols=2,this.errorCodes={date:{yearIsNotPositionedWhereItShould:"date/yearIsNotPositionedWhereItShould",dayIsLessThanZero:"date/dayIsLessThanZero",monthIsLessThanZero:"date/monthIsLessThanZero",yearIsNotInRange:"date/yearIsNotInRange",monthIsGreaterThanPermitted:"date/monthIsGreaterThanPermitted",dayIsGreaterThanPossible:"date/dayIsGreaterThanPossible"},password:{lengthIsLowerThanPermitted:"password/lengthIsLowerThanPermitted",lengthIsGreaterThanPermitted:"password/lengthIsGreaterThanPermitted",capitalLettersAmountIsLessThanPermitted:"password/capitalLettersAmountIsLessThanPermitted",lowerLettersAmountIsLessThanPermitted:"password/lowerLettersAmountIsLessThanPermitted",symbolsAmountIsLessThanPermitted:"password/symbolsAmountIsLessThanPermitted"}},this.error=""}changePasswordValidation(e=15,t=1/0,r=5,s=5,i=3,n=2){r+s+i+n>e?console.error("password/totalRequirementsIsGreaterThanMinLength"):t<e?console.error("password/minLengthIsGreaterThanMaxLength"):(this.minPwdLenght=e,this.maxPwdLength=t,this.minAmountLowerLetters=r,this.minAmountCapitalLetters=s,this.minAmountNumbers=i,this.minAmountSymbols=n)}isArrayOfType(e,t){return!!Array.isArray(e)&&e.every((e=>typeof e===t))}isArrayOfTypes(e,t){return!!Array.isArray(e)&&e.every((e=>t.some((t=>typeof e===t))))}isEmpty(e){return 0===e.length}hasSpaces(e){return e.trim().includes(" ")}hasFractionalValue(e){return!(!this.isNumber(e)||parseInt(e.toString(),10)===Number(e))}isNumber(e){return!this.isEmpty(e.toString())&&!isNaN(Number(e))}areAllNumbers(e){for(const t of e)if(!this.isNumber(t))return!1;return!0}isPositive(e){return!!this.isNumber(e)&&Number(e)>0}areAllPositives(e){return e.every((e=>this.isPositive(e)))}isNegative(e){return!!this.isNumber(e)&&Number(e)<0}areAllNegatives(e){return e.every((e=>this.isNegative(e)))}isZero(e){return!!this.isNumber(e)&&0===Number(e)}areAllZeros(e){return e.every((e=>this.isZero(e)))}isInRange(e,t,r){return!!this.isNumber(e)&&!(Number(e)>r||Number(e)<t)}isInLengthRange(e,t,r){return!(e.length>r||e.length<t)}isEmail(e){return this.emailRegex.test(e.trim())}getFieldIndexFromDate(e,t){var r;const s=e.split("/");return s.indexOf(null!==(r=s.find((e=>e===t)))&&void 0!==r?r:"")}isYearPositionedCorrectly(e,t="DD/MM/YYYY"){return!!(0===this.getFieldIndexFromDate(t,"YYYY")?this.dateRegexYearFirst:this.dateRegex).test(e.trim())||(this.error=this.errorCodes.date.yearIsNotPositionedWhereItShould,!1)}isValidDate(e,t="DD/MM/YYYY",r=this.currentYear-1,s=this.currentYear){if(!this.isYearPositionedCorrectly(e,t))return!1;const i=e.split("/"),n=Number(i[this.getFieldIndexFromDate(t,"DD")]),o=Number(i[this.getFieldIndexFromDate(t,"MM")]),a=Number(i[this.getFieldIndexFromDate(t,"YYYY")]);if(n<1)return this.error=this.errorCodes.date.dayIsLessThanZero,!1;if(o<1)return this.error=this.errorCodes.date.monthIsLessThanZero,!1;if(a<r||a>s)return this.error=this.errorCodes.date.yearIsNotInRange,!1;if(o>12)return this.error=this.errorCodes.date.monthIsGreaterThanPermitted,!1;const u=a%4==0;switch(o){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return n>31?(this.error=this.errorCodes.date.dayIsGreaterThanPossible,!1):(this.error="",!0);case 4:case 6:case 9:case 11:return n>30?(this.error=this.errorCodes.date.dayIsGreaterThanPossible,!1):(this.error="",!0);case 2:return!u&&n>28||u&&n>29?(this.error=this.errorCodes.date.dayIsGreaterThanPossible,!1):(this.error="",!0)}return this.error="",!0}isValidPassword(e){if(e.length<this.minPwdLenght)return this.error=this.errorCodes.password.lengthIsLowerThanPermitted,!1;if(e.length>this.maxPwdLength)return this.error=this.errorCodes.password.lengthIsGreaterThanPermitted,!1;const t=e.replace(/[^A-Z]/g,"").length;if(this.minAmountCapitalLetters>t)return this.error=this.errorCodes.password.capitalLettersAmountIsLessThanPermitted,!1;const r=e.replace(/[^a-z]/g,"").length;if(this.minAmountLowerLetters>r)return this.error=this.errorCodes.password.lowerLettersAmountIsLessThanPermitted,!1;const s=e.replace(this.symbolsRegex,"").length;return this.minAmountSymbols>s?(this.error=this.errorCodes.password.symbolsAmountIsLessThanPermitted,!1):(this.error="",!0)}isMatching(e,t){return!(null===e.match(t))}},r=["number","text"],s=["text","search","password","email"],i=(new Date).getFullYear(),n=(e,t)=>void 0!==e.find((e=>t===e));return HTMLInputElement.prototype.isEmpty=function(){return!!n(["number","text","search","password","email"],this.type)&&t.isEmpty(this.value)},HTMLInputElement.prototype.hasSpaces=function(){return!!n(["text","search","password","email"],this.type)&&t.hasSpaces(this.value)},HTMLInputElement.prototype.hasFractionalValue=function(){return!!n(r,this.type)&&t.hasFractionalValue(this.value)},HTMLInputElement.prototype.isNumber=function(){return!!n(r,this.type)&&t.isNumber(this.value)},HTMLInputElement.prototype.isPositive=function(){return!!n(r,this.type)&&t.isPositive(this.value)},HTMLInputElement.prototype.isNegative=function(){return!!n(r,this.type)&&t.isNegative(this.value)},HTMLInputElement.prototype.isZero=function(){return!!n(r,this.type)&&t.isZero(this.value)},HTMLInputElement.prototype.isInRange=function(e,s){return!!n(r,this.type)&&t.isInRange(this.value,e,s)},HTMLInputElement.prototype.isInLengthRange=function(e,r){return!!n(s,this.type)&&t.isInLengthRange(this.value,e,r)},HTMLInputElement.prototype.isEmail=function(){return!!n(s,this.type)&&t.isEmail(this.value)},HTMLInputElement.prototype.isYearPositionedCorrectly=function(e="DD/MM/YYYY"){return!!n(["text"],this.type)&&t.isYearPositionedCorrectly(this.value,e)},HTMLInputElement.prototype.isValidDate=function(e="DD/MM/YYYY",r=i-1,s=i){return!!n(["text"],this.type)&&t.isValidDate(this.value,e,r,s)},HTMLInputElement.prototype.isValidPassword=function(){return!!n(["text","password"],this.type)&&t.isValidPassword(this.value)},HTMLInputElement.prototype.isMatching=function(e){return t.isMatching(this.value,e.value)},String.prototype.isEmpty=function(){return t.isEmpty(JSON.parse(JSON.stringify(this)))},String.prototype.hasSpaces=function(){return t.hasSpaces(JSON.parse(JSON.stringify(this)))},String.prototype.hasFractionalValue=function(){return t.hasFractionalValue(JSON.parse(JSON.stringify(this)))},String.prototype.isNumber=function(){return t.isNumber(JSON.parse(JSON.stringify(this)))},String.prototype.isPositive=function(){return t.isPositive(JSON.parse(JSON.stringify(this)))},String.prototype.isNegative=function(){return t.isNegative(JSON.parse(JSON.stringify(this)))},String.prototype.isZero=function(){return t.isZero(JSON.parse(JSON.stringify(this)))},String.prototype.isInRange=function(e,r){return t.isInRange(JSON.parse(JSON.stringify(this)),e,r)},String.prototype.isInLengthRange=function(e,r){return t.isInLengthRange(JSON.parse(JSON.stringify(this)),e,r)},String.prototype.isEmail=function(){return t.isEmail(JSON.parse(JSON.stringify(this)))},String.prototype.isYearPositionedCorrectly=function(e="DD/MM/YYYY"){return t.isYearPositionedCorrectly(JSON.parse(JSON.stringify(this)),e)},String.prototype.isValidDate=function(e="DD/MM/YYYY",r=i-1,s=i){return t.isValidDate(JSON.parse(JSON.stringify(this)),e,r,s)},String.prototype.isValidPassword=function(){return t.isValidPassword(JSON.parse(JSON.stringify(this)))},String.prototype.isMatching=function(e){return t.isMatching(JSON.parse(JSON.stringify(this)),e)},Number.prototype.hasFractionalValue=function(){return t.hasFractionalValue(JSON.parse(JSON.stringify(this)))},Number.prototype.isPositive=function(){return t.isPositive(JSON.parse(JSON.stringify(this)))},Number.prototype.isNegative=function(){return t.isNegative(JSON.parse(JSON.stringify(this)))},Number.prototype.isZero=function(){return t.isZero(JSON.parse(JSON.stringify(this)))},Number.prototype.isInRange=function(e,r){return t.isInRange(JSON.parse(JSON.stringify(this)),e,r)},Array.prototype.isEmpty=function(){return t.isEmpty(this)},Array.prototype.areAllNumbers=function(){return!!t.isArrayOfTypes(this,["number","string"])&&t.areAllNumbers(this)},Array.prototype.areAllPositives=function(){return!!t.isArrayOfTypes(this,["number","string"])&&t.areAllPositives(this)},Array.prototype.areAllNegatives=function(){return!!t.isArrayOfTypes(this,["number","string"])&&t.areAllNegatives(this)},Array.prototype.areAllZeros=function(){return!!t.isArrayOfTypes(this,["number","string"])&&t.areAllZeros(this)},e})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MUQsS0FDckMsRUFFQW9DLE1BQU0rRCxVQUFVdkMsWUFBYyxXQUM1QixRQUFLOUQsRUFBWXlDLGVBQWV2QyxLQUFNLENBQUMsU0FBVSxZQUMxQ0YsRUFBWThELFlBQVk1RCxLQUNqQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnZhbGlkYXRpb24vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2Z2YWxpZGF0aW9uL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2Z2YWxpZGF0aW9uL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZnZhbGlkYXRpb24vLi9zcmMvdmFsaWRhdGUudHMiLCJ3ZWJwYWNrOi8vZnZhbGlkYXRpb24vLi9zcmMvdmFsaWRhdGVJbnRlZ3JhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImZ2YWxpZGF0aW9uXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImZ2YWxpZGF0aW9uXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImZ2YWxpZGF0aW9uXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvKlxyXG5lbWFpbFJlZ2V4U291cmNlOiBodHRwczovL3d3dy53M3Jlc291cmNlLmNvbS9qYXZhc2NyaXB0L2Zvcm0vZW1haWwtdmFsaWRhdGlvbi5waHBcclxuZGF0ZVJlZ2V4U291cmNlOiBodHRwczovL3VpYmFrZXJ5LmlvL3JlZ2V4LWxpYnJhcnkvZGF0ZVxyXG4qL1xyXG5cclxuZXhwb3J0IHR5cGUgRGF0ZUZvcm1hdCA9ICdERC9NTS9ZWVlZJyB8ICdNTS9ERC9ZWVlZJyB8ICdZWVlZL01NL0REJyB8ICdZWVlZL0REL01NJ1xyXG5leHBvcnQgdHlwZSBEYXRlRmllbGQgPSAnREQnIHwgJ01NJyB8ICdZWVlZJ1xyXG50eXBlIFR5cGVzQ29tcGFyaXNvbiA9ICd1bmRlZmluZWQnIHwgJ29iamVjdCcgfCAnYm9vbGVhbicgfCAnbnVtYmVyJyB8ICdzdHJpbmcnIHwgJ2Z1bmN0aW9uJyB8ICdzeW1ib2wnIHwgJ2JpZ2ludCdcclxuaW50ZXJmYWNlIGVycm9ycyB7XHJcbiAgZGF0ZToge1xyXG4gICAgeWVhcklzTm90UG9zaXRpb25lZFdoZXJlSXRTaG91bGQ6IHN0cmluZ1xyXG4gICAgZGF5SXNMZXNzVGhhblplcm86IHN0cmluZ1xyXG4gICAgbW9udGhJc0xlc3NUaGFuWmVybzogc3RyaW5nXHJcbiAgICB5ZWFySXNOb3RJblJhbmdlOiBzdHJpbmdcclxuICAgIG1vbnRoSXNHcmVhdGVyVGhhblBlcm1pdHRlZDogc3RyaW5nXHJcbiAgICBkYXlJc0dyZWF0ZXJUaGFuUG9zc2libGU6IHN0cmluZ1xyXG4gIH1cclxuICBwYXNzd29yZDoge1xyXG4gICAgbGVuZ3RoSXNMb3dlclRoYW5QZXJtaXR0ZWQ6IHN0cmluZ1xyXG4gICAgbGVuZ3RoSXNHcmVhdGVyVGhhblBlcm1pdHRlZDogc3RyaW5nXHJcbiAgICBjYXBpdGFsTGV0dGVyc0Ftb3VudElzTGVzc1RoYW5QZXJtaXR0ZWQ6IHN0cmluZ1xyXG4gICAgbG93ZXJMZXR0ZXJzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZDogc3RyaW5nXHJcbiAgICBzeW1ib2xzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZDogc3RyaW5nXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBGb3JtVmFsaWRhdGlvbiB7XHJcbiAgZW1haWxSZWdleDogUmVnRXhwXHJcbiAgZGF0ZVJlZ2V4OiBSZWdFeHBcclxuICBkYXRlUmVnZXhZZWFyRmlyc3Q6IFJlZ0V4cFxyXG4gIHN5bWJvbHNSZWdleDogUmVnRXhwXHJcblxyXG4gIGN1cnJlbnRZZWFyOiBudW1iZXJcclxuICAvKiBmb3IgcGFzc3dvcmQgdmFsaWRhdGlvbiAqL1xyXG4gIG1pblB3ZExlbmdodDogbnVtYmVyXHJcbiAgbWF4UHdkTGVuZ3RoOiBudW1iZXJcclxuICBtaW5BbW91bnRMb3dlckxldHRlcnM6IG51bWJlclxyXG4gIG1pbkFtb3VudENhcGl0YWxMZXR0ZXJzOiBudW1iZXJcclxuICBtaW5BbW91bnROdW1iZXJzOiBudW1iZXJcclxuICBtaW5BbW91bnRTeW1ib2xzOiBudW1iZXJcclxuXHJcbiAgZXJyb3JDb2RlczogZXJyb3JzXHJcbiAgZXJyb3I6IHN0cmluZ1xyXG5cclxuICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICB0aGlzLmVtYWlsUmVnZXggPSAvXlxcdysoWy4tXT9cXHcrKSpAXFx3KyhbLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC9cclxuICAgIHRoaXMuZGF0ZVJlZ2V4ID0gL15bMC05XXsxLDJ9XFwvWzAtOV17MSwyfVxcL1swLTldezR9JC9cclxuICAgIHRoaXMuZGF0ZVJlZ2V4WWVhckZpcnN0ID0gL15bMC05XXs0fVxcL1swLTldezEsMn1cXC9bMC05XXsxLDJ9JC9cclxuICAgIHRoaXMuc3ltYm9sc1JlZ2V4ID0gL1teIUAjJCVeJiopKCs9Ljw+e31bXTo7J1wifH5gXy1cXC9cXFxcXS9nXHJcblxyXG4gICAgdGhpcy5jdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG4gICAgLyogcGFzc3dvcmQgdmFsaWRhdGlvbiBkZWZhdWx0IHZhbHVlcyAqL1xyXG4gICAgdGhpcy5taW5Qd2RMZW5naHQgPSAxNVxyXG4gICAgdGhpcy5tYXhQd2RMZW5ndGggPSBJbmZpbml0eVxyXG4gICAgdGhpcy5taW5BbW91bnRMb3dlckxldHRlcnMgPSA1XHJcbiAgICB0aGlzLm1pbkFtb3VudENhcGl0YWxMZXR0ZXJzID0gNVxyXG4gICAgdGhpcy5taW5BbW91bnROdW1iZXJzID0gM1xyXG4gICAgdGhpcy5taW5BbW91bnRTeW1ib2xzID0gMlxyXG5cclxuICAgIHRoaXMuZXJyb3JDb2RlcyA9IHtcclxuICAgICAgZGF0ZToge1xyXG4gICAgICAgIHllYXJJc05vdFBvc2l0aW9uZWRXaGVyZUl0U2hvdWxkOiAnZGF0ZS95ZWFySXNOb3RQb3NpdGlvbmVkV2hlcmVJdFNob3VsZCcsXHJcbiAgICAgICAgZGF5SXNMZXNzVGhhblplcm86ICdkYXRlL2RheUlzTGVzc1RoYW5aZXJvJyxcclxuICAgICAgICBtb250aElzTGVzc1RoYW5aZXJvOiAnZGF0ZS9tb250aElzTGVzc1RoYW5aZXJvJyxcclxuICAgICAgICB5ZWFySXNOb3RJblJhbmdlOiAnZGF0ZS95ZWFySXNOb3RJblJhbmdlJyxcclxuICAgICAgICBtb250aElzR3JlYXRlclRoYW5QZXJtaXR0ZWQ6ICdkYXRlL21vbnRoSXNHcmVhdGVyVGhhblBlcm1pdHRlZCcsXHJcbiAgICAgICAgZGF5SXNHcmVhdGVyVGhhblBvc3NpYmxlOiAnZGF0ZS9kYXlJc0dyZWF0ZXJUaGFuUG9zc2libGUnXHJcbiAgICAgIH0sXHJcbiAgICAgIHBhc3N3b3JkOiB7XHJcbiAgICAgICAgbGVuZ3RoSXNMb3dlclRoYW5QZXJtaXR0ZWQ6ICdwYXNzd29yZC9sZW5ndGhJc0xvd2VyVGhhblBlcm1pdHRlZCcsXHJcbiAgICAgICAgbGVuZ3RoSXNHcmVhdGVyVGhhblBlcm1pdHRlZDogJ3Bhc3N3b3JkL2xlbmd0aElzR3JlYXRlclRoYW5QZXJtaXR0ZWQnLFxyXG4gICAgICAgIGNhcGl0YWxMZXR0ZXJzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZDogJ3Bhc3N3b3JkL2NhcGl0YWxMZXR0ZXJzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZCcsXHJcbiAgICAgICAgbG93ZXJMZXR0ZXJzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZDogJ3Bhc3N3b3JkL2xvd2VyTGV0dGVyc0Ftb3VudElzTGVzc1RoYW5QZXJtaXR0ZWQnLFxyXG4gICAgICAgIHN5bWJvbHNBbW91bnRJc0xlc3NUaGFuUGVybWl0dGVkOiAncGFzc3dvcmQvc3ltYm9sc0Ftb3VudElzTGVzc1RoYW5QZXJtaXR0ZWQnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZXJyb3IgPSAnJ1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlUGFzc3dvcmRWYWxpZGF0aW9uIChcclxuICAgIG1pblB3ZExlbmdodDogbnVtYmVyID0gMTUsXHJcbiAgICBtYXhQd2RMZW5naHQ6IG51bWJlciA9IEluZmluaXR5LFxyXG4gICAgbWluQW1vdW50TG93ZXJMZXR0ZXJzOiBudW1iZXIgPSA1LFxyXG4gICAgbWluQW1vdW50Q2FwaXRhbExldHRlcnM6IG51bWJlciA9IDUsXHJcbiAgICBtaW5BbW91bnROdW1iZXJzOiBudW1iZXIgPSAzLFxyXG4gICAgbWluQW1vdW50U3ltYm9sczogbnVtYmVyID0gMlxyXG4gICk6IHZvaWQge1xyXG4gICAgLyogY292ZXIgY2FzZXMgd2hlcmUgcGFzc3dvcmQgdmFsaWRhdGlvbiBwYXJhbWV0ZXJzIGFyZSBpbmNvcnJlY3QgKi9cclxuICAgIGNvbnN0IHRvdGFsQ2hhcnMgPVxyXG4gICAgICBtaW5BbW91bnRMb3dlckxldHRlcnMgKyBtaW5BbW91bnRDYXBpdGFsTGV0dGVycyArIG1pbkFtb3VudE51bWJlcnMgKyBtaW5BbW91bnRTeW1ib2xzXHJcbiAgICBpZiAodG90YWxDaGFycyA+IG1pblB3ZExlbmdodCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdwYXNzd29yZC90b3RhbFJlcXVpcmVtZW50c0lzR3JlYXRlclRoYW5NaW5MZW5ndGgnKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGlmIChtYXhQd2RMZW5naHQgPCBtaW5Qd2RMZW5naHQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcigncGFzc3dvcmQvbWluTGVuZ3RoSXNHcmVhdGVyVGhhbk1heExlbmd0aCcpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8qIHNldCBuZXcgdmFsdWVzICovXHJcbiAgICB0aGlzLm1pblB3ZExlbmdodCA9IG1pblB3ZExlbmdodFxyXG4gICAgdGhpcy5tYXhQd2RMZW5ndGggPSBtYXhQd2RMZW5naHRcclxuICAgIHRoaXMubWluQW1vdW50TG93ZXJMZXR0ZXJzID0gbWluQW1vdW50TG93ZXJMZXR0ZXJzXHJcbiAgICB0aGlzLm1pbkFtb3VudENhcGl0YWxMZXR0ZXJzID0gbWluQW1vdW50Q2FwaXRhbExldHRlcnNcclxuICAgIHRoaXMubWluQW1vdW50TnVtYmVycyA9IG1pbkFtb3VudE51bWJlcnNcclxuICAgIHRoaXMubWluQW1vdW50U3ltYm9scyA9IG1pbkFtb3VudFN5bWJvbHNcclxuICB9XHJcblxyXG4gIC8vIGFsbCBlbGVtZW50cyBmcm9tIHRoZSBhcnJheSBzaG91bGQgYmUgb2YgdGhlIHNwZWNpZmllZCB0eXBlXHJcbiAgaXNBcnJheU9mVHlwZSAoYXJyYXk6IGFueVtdLCB0eXBlOiBUeXBlc0NvbXBhcmlzb24pOiBib29sZWFuIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHJldHVybiBmYWxzZVxyXG4gICAgcmV0dXJuIGFycmF5LmV2ZXJ5KCh2YWx1ZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PT0gdHlwZSkpXHJcbiAgfVxyXG5cclxuICAvLyBhbGwgZWxlbWVudHMgZnJvbSB0aGUgYXJyYXkgc2hvdWxkIGJlIGZyb20gb25lIG9mIHRoZSBzcGVjaWZpZWQgdHlwZXNcclxuICBpc0FycmF5T2ZUeXBlcyAoYXJyYXk6IGFueVtdLCB0eXBlczogVHlwZXNDb21wYXJpc29uW10pOiBib29sZWFuIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHJldHVybiBmYWxzZVxyXG4gICAgcmV0dXJuIGFycmF5LmV2ZXJ5KCh2YWx1ZSkgPT4gdHlwZXMuc29tZSgodHlwZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PT0gdHlwZSkpKVxyXG4gIH1cclxuXHJcbiAgaXNFbXB0eSAodmFsdWU6IHN0cmluZyB8IGFueVtdKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKHZhbHVlLmxlbmd0aCA9PT0gMClcclxuICB9XHJcblxyXG4gIGhhc1NwYWNlcyAodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKS5pbmNsdWRlcygnICcpXHJcbiAgfVxyXG5cclxuICBoYXNGcmFjdGlvbmFsVmFsdWUgKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGlmICghdGhpcy5pc051bWJlcih2YWx1ZSkpIHJldHVybiBmYWxzZVxyXG4gICAgcmV0dXJuICghKHBhcnNlSW50KHZhbHVlLnRvU3RyaW5nKCksIDEwKSA9PT0gTnVtYmVyKHZhbHVlKSkpXHJcbiAgfVxyXG5cclxuICBpc051bWJlciAodmFsdWU6IHN0cmluZyB8IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuaXNFbXB0eSh2YWx1ZS50b1N0cmluZygpKSkgcmV0dXJuIGZhbHNlXHJcbiAgICByZXR1cm4gIShpc05hTihOdW1iZXIodmFsdWUpKSlcclxuICB9XHJcblxyXG4gIGFyZUFsbE51bWJlcnMgKHZhbHVlczogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPik6IGJvb2xlYW4ge1xyXG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIGlmICghdGhpcy5pc051bWJlcih2YWx1ZSkpIHJldHVybiBmYWxzZVxyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgSU1QT1JUQU5UOlxyXG4gIDAgaXMgbm90IGNvbnNpZGVyZWQgcG9zaXRpdmUgbm9yIG5lZ2F0aXZlXHJcbiAgKi9cclxuICBpc1Bvc2l0aXZlICh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIXRoaXMuaXNOdW1iZXIodmFsdWUpKSByZXR1cm4gZmFsc2VcclxuICAgIHJldHVybiAoTnVtYmVyKHZhbHVlKSA+IDApXHJcbiAgfVxyXG5cclxuICBhcmVBbGxQb3NpdGl2ZXMgKHZhbHVlczogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZhbHVlcy5ldmVyeSgodmFsdWUpID0+IHRoaXMuaXNQb3NpdGl2ZSh2YWx1ZSkpXHJcbiAgfVxyXG5cclxuICBpc05lZ2F0aXZlICh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIXRoaXMuaXNOdW1iZXIodmFsdWUpKSByZXR1cm4gZmFsc2VcclxuICAgIHJldHVybiAoTnVtYmVyKHZhbHVlKSA8IDApXHJcbiAgfVxyXG5cclxuICBhcmVBbGxOZWdhdGl2ZXMgKHZhbHVlczogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZhbHVlcy5ldmVyeSgodmFsdWUpID0+IHRoaXMuaXNOZWdhdGl2ZSh2YWx1ZSkpXHJcbiAgfVxyXG5cclxuICBpc1plcm8gKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGlmICghdGhpcy5pc051bWJlcih2YWx1ZSkpIHJldHVybiBmYWxzZVxyXG4gICAgcmV0dXJuIChOdW1iZXIodmFsdWUpID09PSAwKVxyXG4gIH1cclxuXHJcbiAgYXJlQWxsWmVyb3MgKHZhbHVlczogQXJyYXk8c3RyaW5nIHwgbnVtYmVyPik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZhbHVlcy5ldmVyeSgodmFsdWUpID0+IHRoaXMuaXNaZXJvKHZhbHVlKSlcclxuICB9XHJcblxyXG4gIGlzSW5SYW5nZSAodmFsdWU6IG51bWJlciB8IHN0cmluZywgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIXRoaXMuaXNOdW1iZXIodmFsdWUpKSByZXR1cm4gZmFsc2VcclxuICAgIHJldHVybiAoIShOdW1iZXIodmFsdWUpID4gbWF4IHx8IE51bWJlcih2YWx1ZSkgPCBtaW4pKVxyXG4gIH1cclxuXHJcbiAgaXNJbkxlbmd0aFJhbmdlICh2YWx1ZTogc3RyaW5nLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoISh2YWx1ZS5sZW5ndGggPiBtYXggfHwgdmFsdWUubGVuZ3RoIDwgbWluKSlcclxuICB9XHJcblxyXG4gIGlzRW1haWwgKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmVtYWlsUmVnZXgudGVzdChlbWFpbC50cmltKCkpXHJcbiAgfVxyXG5cclxuICBnZXRGaWVsZEluZGV4RnJvbURhdGUgKGRhdGVGb3JtYXQ6IERhdGVGb3JtYXQsIHRvRmluZDogRGF0ZUZpZWxkKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9IGRhdGVGb3JtYXQuc3BsaXQoJy8nKVxyXG4gICAgLyogcmV0dXJucyAtMSBpZiBmaWVsZCBkb2VzIG5vdCBleGlzdCBpbiBkYXRlIGZvcm1hdCAqL1xyXG4gICAgcmV0dXJuIGZpZWxkcy5pbmRleE9mKGZpZWxkcy5maW5kKChmaWVsZCkgPT4gZmllbGQgPT09IHRvRmluZCkgPz8gJycpXHJcbiAgfVxyXG5cclxuICBpc1llYXJQb3NpdGlvbmVkQ29ycmVjdGx5IChkYXRlOiBzdHJpbmcsIGRhdGVGb3JtYXQ6IERhdGVGb3JtYXQgPSAnREQvTU0vWVlZWScpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IHllYXJJbmRleCA9IHRoaXMuZ2V0RmllbGRJbmRleEZyb21EYXRlKGRhdGVGb3JtYXQsICdZWVlZJylcclxuICAgIGNvbnN0IHJlZ2V4ID0gKHllYXJJbmRleCA9PT0gMCkgPyB0aGlzLmRhdGVSZWdleFllYXJGaXJzdCA6IHRoaXMuZGF0ZVJlZ2V4XHJcbiAgICAvKiBjaGVja3MgaWYgeWVhciBpcyBwb3NpdGlvbmVkIHdoZXJlIGl0IHNob3VsZCAqL1xyXG4gICAgaWYgKCFyZWdleC50ZXN0KGRhdGUudHJpbSgpKSkge1xyXG4gICAgICB0aGlzLmVycm9yID0gdGhpcy5lcnJvckNvZGVzLmRhdGUueWVhcklzTm90UG9zaXRpb25lZFdoZXJlSXRTaG91bGRcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgaXNWYWxpZERhdGUgKFxyXG4gICAgZGF0ZTogc3RyaW5nLFxyXG4gICAgZGF0ZUZvcm1hdDogRGF0ZUZvcm1hdCA9ICdERC9NTS9ZWVlZJyxcclxuICAgIG1pblllYXI6IG51bWJlciA9IHRoaXMuY3VycmVudFllYXIgLSAxLFxyXG4gICAgbWF4WWVhcjogbnVtYmVyID0gdGhpcy5jdXJyZW50WWVhclxyXG4gICk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKCF0aGlzLmlzWWVhclBvc2l0aW9uZWRDb3JyZWN0bHkoZGF0ZSwgZGF0ZUZvcm1hdCkpIHJldHVybiBmYWxzZVxyXG4gICAgY29uc3QgZmllbGRzID0gZGF0ZS5zcGxpdCgnLycpXHJcbiAgICBjb25zdCBkYXlOdW0gPSBOdW1iZXIoZmllbGRzW3RoaXMuZ2V0RmllbGRJbmRleEZyb21EYXRlKGRhdGVGb3JtYXQsICdERCcpXSlcclxuICAgIGNvbnN0IG1vbnRoTnVtID0gTnVtYmVyKGZpZWxkc1t0aGlzLmdldEZpZWxkSW5kZXhGcm9tRGF0ZShkYXRlRm9ybWF0LCAnTU0nKV0pXHJcbiAgICBjb25zdCB5ZWFyTnVtID0gTnVtYmVyKGZpZWxkc1t0aGlzLmdldEZpZWxkSW5kZXhGcm9tRGF0ZShkYXRlRm9ybWF0LCAnWVlZWScpXSlcclxuXHJcbiAgICBpZiAoZGF5TnVtIDwgMSkge1xyXG4gICAgICB0aGlzLmVycm9yID0gdGhpcy5lcnJvckNvZGVzLmRhdGUuZGF5SXNMZXNzVGhhblplcm9cclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBpZiAobW9udGhOdW0gPCAxKSB7XHJcbiAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLmVycm9yQ29kZXMuZGF0ZS5tb250aElzTGVzc1RoYW5aZXJvXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgaWYgKHllYXJOdW0gPCBtaW5ZZWFyIHx8IHllYXJOdW0gPiBtYXhZZWFyKSB7XHJcbiAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLmVycm9yQ29kZXMuZGF0ZS55ZWFySXNOb3RJblJhbmdlXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgaWYgKG1vbnRoTnVtID4gMTIpIHtcclxuICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3JDb2Rlcy5kYXRlLm1vbnRoSXNHcmVhdGVyVGhhblBlcm1pdHRlZFxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIGNvbnN0IGlzTGVhcFllYXIgPSAoeWVhck51bSAlIDQgPT09IDApXHJcbiAgICBzd2l0Y2ggKG1vbnRoTnVtKSB7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICBjYXNlIDU6XHJcbiAgICAgIGNhc2UgNzpcclxuICAgICAgY2FzZSA4OlxyXG4gICAgICBjYXNlIDEwOlxyXG4gICAgICBjYXNlIDEyOlxyXG4gICAgICAgIGlmIChkYXlOdW0gPiAzMSkge1xyXG4gICAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3JDb2Rlcy5kYXRlLmRheUlzR3JlYXRlclRoYW5Qb3NzaWJsZVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXJyb3IgPSAnJ1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIGNhc2UgNDpcclxuICAgICAgY2FzZSA2OlxyXG4gICAgICBjYXNlIDk6XHJcbiAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgaWYgKGRheU51bSA+IDMwKSB7XHJcbiAgICAgICAgICB0aGlzLmVycm9yID0gdGhpcy5lcnJvckNvZGVzLmRhdGUuZGF5SXNHcmVhdGVyVGhhblBvc3NpYmxlXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lcnJvciA9ICcnXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIGlmICghaXNMZWFwWWVhciAmJiBkYXlOdW0gPiAyOCkge1xyXG4gICAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3JDb2Rlcy5kYXRlLmRheUlzR3JlYXRlclRoYW5Qb3NzaWJsZVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0xlYXBZZWFyICYmIGRheU51bSA+IDI5KSB7XHJcbiAgICAgICAgICB0aGlzLmVycm9yID0gdGhpcy5lcnJvckNvZGVzLmRhdGUuZGF5SXNHcmVhdGVyVGhhblBvc3NpYmxlXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lcnJvciA9ICcnXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIHRoaXMuZXJyb3IgPSAnJ1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIGlzVmFsaWRQYXNzd29yZCAocGFzc3dvcmQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA8IHRoaXMubWluUHdkTGVuZ2h0KSB7XHJcbiAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLmVycm9yQ29kZXMucGFzc3dvcmQubGVuZ3RoSXNMb3dlclRoYW5QZXJtaXR0ZWRcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoID4gdGhpcy5tYXhQd2RMZW5ndGgpIHtcclxuICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3JDb2Rlcy5wYXNzd29yZC5sZW5ndGhJc0dyZWF0ZXJUaGFuUGVybWl0dGVkXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNhcGl0YWxDb3VudCA9IHBhc3N3b3JkLnJlcGxhY2UoL1teQS1aXS9nLCAnJykubGVuZ3RoXHJcbiAgICBpZiAodGhpcy5taW5BbW91bnRDYXBpdGFsTGV0dGVycyA+IGNhcGl0YWxDb3VudCkge1xyXG4gICAgICB0aGlzLmVycm9yID0gdGhpcy5lcnJvckNvZGVzLnBhc3N3b3JkLmNhcGl0YWxMZXR0ZXJzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZFxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBsb3dlckNvdW50ID0gcGFzc3dvcmQucmVwbGFjZSgvW15hLXpdL2csICcnKS5sZW5ndGhcclxuICAgIGlmICh0aGlzLm1pbkFtb3VudExvd2VyTGV0dGVycyA+IGxvd2VyQ291bnQpIHtcclxuICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3JDb2Rlcy5wYXNzd29yZC5sb3dlckxldHRlcnNBbW91bnRJc0xlc3NUaGFuUGVybWl0dGVkXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN5bWJvbHNDb3VudCA9IHBhc3N3b3JkLnJlcGxhY2UodGhpcy5zeW1ib2xzUmVnZXgsICcnKS5sZW5ndGhcclxuICAgIGlmICh0aGlzLm1pbkFtb3VudFN5bWJvbHMgPiBzeW1ib2xzQ291bnQpIHtcclxuICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3JDb2Rlcy5wYXNzd29yZC5zeW1ib2xzQW1vdW50SXNMZXNzVGhhblBlcm1pdHRlZFxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVycm9yID0gJydcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICBpc01hdGNoaW5nIChwYXNzd29yZDogc3RyaW5nLCBjb25maXJtYXRpb246IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICghKHBhc3N3b3JkLm1hdGNoKGNvbmZpcm1hdGlvbikgPT09IG51bGwpKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZnZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRpb24oKVxyXG5leHBvcnQgeyBmdmFsaWRhdGlvbiB9XHJcbiIsImltcG9ydCB7IGZ2YWxpZGF0aW9uLCB0eXBlIERhdGVGb3JtYXQgfSBmcm9tICcuL3ZhbGlkYXRlJ1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIGludGVyZmFjZSBIVE1MSW5wdXRFbGVtZW50IHtcclxuICAgIGlzRW1wdHk6ICgpID0+IGJvb2xlYW5cclxuICAgIGhhc1NwYWNlczogKCkgPT4gYm9vbGVhblxyXG4gICAgaGFzRnJhY3Rpb25hbFZhbHVlOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc051bWJlcjogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNQb3NpdGl2ZTogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNOZWdhdGl2ZTogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNaZXJvOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc0luUmFuZ2U6IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpID0+IGJvb2xlYW5cclxuICAgIGlzSW5MZW5ndGhSYW5nZTogKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4gYm9vbGVhblxyXG4gICAgaXNFbWFpbDogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNZZWFyUG9zaXRpb25lZENvcnJlY3RseTogKGRhdGVGb3JtYXQ6IERhdGVGb3JtYXQpID0+IGJvb2xlYW5cclxuICAgIGlzVmFsaWREYXRlOiAoZGF0ZUZvcm1hdDogRGF0ZUZvcm1hdCwgbWluWWVhcj86IG51bWJlciwgbWF4WWVhcj86IG51bWJlcikgPT4gYm9vbGVhblxyXG4gICAgaXNWYWxpZFBhc3N3b3JkOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc01hdGNoaW5nOiAoY29uZmlybWF0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiBib29sZWFuXHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgU3RyaW5nIHtcclxuICAgIGlzRW1wdHk6ICgpID0+IGJvb2xlYW5cclxuICAgIGhhc1NwYWNlczogKCkgPT4gYm9vbGVhblxyXG4gICAgaGFzRnJhY3Rpb25hbFZhbHVlOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc051bWJlcjogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNQb3NpdGl2ZTogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNOZWdhdGl2ZTogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNaZXJvOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc0luUmFuZ2U6IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpID0+IGJvb2xlYW5cclxuICAgIGlzSW5MZW5ndGhSYW5nZTogKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4gYm9vbGVhblxyXG4gICAgaXNFbWFpbDogKCkgPT4gYm9vbGVhblxyXG4gICAgaXNZZWFyUG9zaXRpb25lZENvcnJlY3RseTogKGRhdGVGb3JtYXQ6IERhdGVGb3JtYXQpID0+IGJvb2xlYW5cclxuICAgIGlzVmFsaWREYXRlOiAoZGF0ZUZvcm1hdDogRGF0ZUZvcm1hdCwgbWluWWVhcj86IG51bWJlciwgbWF4WWVhcj86IG51bWJlcikgPT4gYm9vbGVhblxyXG4gICAgaXNWYWxpZFBhc3N3b3JkOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc01hdGNoaW5nOiAoY29uZmlybWF0aW9uOiBzdHJpbmcpID0+IGJvb2xlYW5cclxuICB9XHJcblxyXG4gIGludGVyZmFjZSBOdW1iZXIge1xyXG4gICAgaGFzRnJhY3Rpb25hbFZhbHVlOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc1Bvc2l0aXZlOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc05lZ2F0aXZlOiAoKSA9PiBib29sZWFuXHJcbiAgICBpc1plcm86ICgpID0+IGJvb2xlYW5cclxuICAgIGlzSW5SYW5nZTogKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4gYm9vbGVhblxyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIGlzRW1wdHk6ICgpID0+IGJvb2xlYW5cclxuICAgIGFyZUFsbE51bWJlcnM6ICgpID0+IGJvb2xlYW5cclxuICAgIGFyZUFsbFBvc2l0aXZlczogKCkgPT4gYm9vbGVhblxyXG4gICAgYXJlQWxsTmVnYXRpdmVzOiAoKSA9PiBib29sZWFuXHJcbiAgICBhcmVBbGxaZXJvczogKCkgPT4gYm9vbGVhblxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYWxsb3dlZFR5cGVzTnVtYmVyTWV0aG9kczogc3RyaW5nW10gPSBbJ251bWJlcicsICd0ZXh0J11cclxuY29uc3QgYWxsb3dlZFR5cGVzU3RyaW5nTWV0aG9kczogc3RyaW5nW10gPSBbJ3RleHQnLCAnc2VhcmNoJywgJ3Bhc3N3b3JkJywgJ2VtYWlsJ11cclxuY29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcclxuY29uc3QgaXNUeXBlQWxsb3dlZCA9IChhbGxvd2VkOiBzdHJpbmdbXSwgdG9DaGVjazogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgaWYgKGFsbG93ZWQuZmluZCgodHlwZSkgPT4gdG9DaGVjayA9PT0gdHlwZSkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIHRydWVcclxufVxyXG5cclxuLyogSU1QTEVNRU5UQVRJT04gT0YgTUVUSE9EUyBGT1IgSU5QVVRTICovXHJcblxyXG5IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IHR5cGVzQWxsb3dlZDogc3RyaW5nW10gPSBbJ251bWJlcicsICd0ZXh0JywgJ3NlYXJjaCcsICdwYXNzd29yZCcsICdlbWFpbCddXHJcbiAgaWYgKCFpc1R5cGVBbGxvd2VkKHR5cGVzQWxsb3dlZCwgdGhpcy50eXBlKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzRW1wdHkodGhpcy52YWx1ZSlcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaGFzU3BhY2VzID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghaXNUeXBlQWxsb3dlZChbJ3RleHQnLCAnc2VhcmNoJywgJ3Bhc3N3b3JkJywgJ2VtYWlsJ10sIHRoaXMudHlwZSkpIHJldHVybiBmYWxzZVxyXG4gIHJldHVybiBmdmFsaWRhdGlvbi5oYXNTcGFjZXModGhpcy52YWx1ZSlcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaGFzRnJhY3Rpb25hbFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghaXNUeXBlQWxsb3dlZChhbGxvd2VkVHlwZXNOdW1iZXJNZXRob2RzLCB0aGlzLnR5cGUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaGFzRnJhY3Rpb25hbFZhbHVlKHRoaXMudmFsdWUpXHJcbn1cclxuXHJcbkhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmlzTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghaXNUeXBlQWxsb3dlZChhbGxvd2VkVHlwZXNOdW1iZXJNZXRob2RzLCB0aGlzLnR5cGUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNOdW1iZXIodGhpcy52YWx1ZSlcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIWlzVHlwZUFsbG93ZWQoYWxsb3dlZFR5cGVzTnVtYmVyTWV0aG9kcywgdGhpcy50eXBlKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzUG9zaXRpdmUodGhpcy52YWx1ZSlcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIWlzVHlwZUFsbG93ZWQoYWxsb3dlZFR5cGVzTnVtYmVyTWV0aG9kcywgdGhpcy50eXBlKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzTmVnYXRpdmUodGhpcy52YWx1ZSlcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghaXNUeXBlQWxsb3dlZChhbGxvd2VkVHlwZXNOdW1iZXJNZXRob2RzLCB0aGlzLnR5cGUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNaZXJvKHRoaXMudmFsdWUpXHJcbn1cclxuXHJcbkhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xyXG4gIGlmICghaXNUeXBlQWxsb3dlZChhbGxvd2VkVHlwZXNOdW1iZXJNZXRob2RzLCB0aGlzLnR5cGUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNJblJhbmdlKHRoaXMudmFsdWUsIG1pbiwgbWF4KVxyXG59XHJcblxyXG5IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5pc0luTGVuZ3RoUmFuZ2UgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcclxuICBpZiAoIWlzVHlwZUFsbG93ZWQoYWxsb3dlZFR5cGVzU3RyaW5nTWV0aG9kcywgdGhpcy50eXBlKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzSW5MZW5ndGhSYW5nZSh0aGlzLnZhbHVlLCBtaW4sIG1heClcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaXNFbWFpbCA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIWlzVHlwZUFsbG93ZWQoYWxsb3dlZFR5cGVzU3RyaW5nTWV0aG9kcywgdGhpcy50eXBlKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzRW1haWwodGhpcy52YWx1ZSlcclxufVxyXG5cclxuSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuaXNZZWFyUG9zaXRpb25lZENvcnJlY3RseSA9IGZ1bmN0aW9uIChkYXRlRm9ybWF0ID0gJ0REL01NL1lZWVknKSB7XHJcbiAgLyogaW5wdXQgZGF0ZSBzaG91bGQgYWx3YXlzIGhhdmUgZGF0ZSBmb3JtYXQsIHRoYXQncyB3aHkgaXMgbm90IGluIHRoZSBhbGxvd2VkIHR5cGVzICovXHJcbiAgaWYgKCFpc1R5cGVBbGxvd2VkKFsndGV4dCddLCB0aGlzLnR5cGUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNZZWFyUG9zaXRpb25lZENvcnJlY3RseSh0aGlzLnZhbHVlLCBkYXRlRm9ybWF0KVxyXG59XHJcblxyXG5IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5pc1ZhbGlkRGF0ZSA9IGZ1bmN0aW9uIChcclxuICBkYXRlRm9ybWF0ID0gJ0REL01NL1lZWVknLFxyXG4gIG1pblllYXIgPSBjdXJyZW50WWVhciAtIDEsXHJcbiAgbWF4WWVhciA9IGN1cnJlbnRZZWFyXHJcbikge1xyXG4gIC8qIGlucHV0IGRhdGUgc2hvdWxkIGFsd2F5cyBoYXZlIGEgdmFsaWQgZGF0ZSwgdGhhdCdzIHdoeSBpcyBub3QgaW4gdGhlIGFsbG93ZWQgdHlwZXMgKi9cclxuICBpZiAoIWlzVHlwZUFsbG93ZWQoWyd0ZXh0J10sIHRoaXMudHlwZSkpIHJldHVybiBmYWxzZVxyXG4gIHJldHVybiBmdmFsaWRhdGlvbi5pc1ZhbGlkRGF0ZSh0aGlzLnZhbHVlLCBkYXRlRm9ybWF0LCBtaW5ZZWFyLCBtYXhZZWFyKVxyXG59XHJcblxyXG5IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5pc1ZhbGlkUGFzc3dvcmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKCFpc1R5cGVBbGxvd2VkKFsndGV4dCcsICdwYXNzd29yZCddLCB0aGlzLnR5cGUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNWYWxpZFBhc3N3b3JkKHRoaXMudmFsdWUpXHJcbn1cclxuXHJcbkhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmlzTWF0Y2hpbmcgPSBmdW5jdGlvbiAoY29uZmlybWF0aW9uKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzTWF0Y2hpbmcodGhpcy52YWx1ZSwgY29uZmlybWF0aW9uLnZhbHVlKVxyXG59XHJcblxyXG4vKiBJTVBMRU1FTlRBVElPTiBPRiBNRVRIT0RTIEZPUiBTVFJJTkdTICovXHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLyogSlNPTiBwYXJzZSBhbmQgc3RyaW5naWZ5IGlzIG5lY2Vzc2FyeSBzaW5jZSB0eXBlICdTdHJpbmcnIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ3N0cmluZycgKi9cclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNFbXB0eShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSlcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5oYXNTcGFjZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmhhc1NwYWNlcyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSlcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5oYXNGcmFjdGlvbmFsVmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmhhc0ZyYWN0aW9uYWxWYWx1ZShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSlcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5pc051bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNOdW1iZXIoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSkpXHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNQb3NpdGl2ZShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSlcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5pc05lZ2F0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmdmFsaWRhdGlvbi5pc05lZ2F0aXZlKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpKVxyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNaZXJvKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpKVxyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzSW5SYW5nZSA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xyXG4gIHJldHVybiBmdmFsaWRhdGlvbi5pc0luUmFuZ2UoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSksIG1pbiwgbWF4KVxyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzSW5MZW5ndGhSYW5nZSA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xyXG4gIHJldHVybiBmdmFsaWRhdGlvbi5pc0luTGVuZ3RoUmFuZ2UoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSksIG1pbiwgbWF4KVxyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzRW1haWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzRW1haWwoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSkpXHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNZZWFyUG9zaXRpb25lZENvcnJlY3RseSA9IGZ1bmN0aW9uIChkYXRlRm9ybWF0ID0gJ0REL01NL1lZWVknKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzWWVhclBvc2l0aW9uZWRDb3JyZWN0bHkoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSksIGRhdGVGb3JtYXQpXHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNWYWxpZERhdGUgPSBmdW5jdGlvbiAoXHJcbiAgZGF0ZUZvcm1hdCA9ICdERC9NTS9ZWVlZJyxcclxuICBtaW5ZZWFyID0gY3VycmVudFllYXIgLSAxLFxyXG4gIG1heFllYXIgPSBjdXJyZW50WWVhclxyXG4pIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNWYWxpZERhdGUoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSksIGRhdGVGb3JtYXQsIG1pblllYXIsIG1heFllYXIpXHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNWYWxpZFBhc3N3b3JkID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmdmFsaWRhdGlvbi5pc1ZhbGlkUGFzc3dvcmQoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSkpXHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNNYXRjaGluZyA9IGZ1bmN0aW9uIChjb25maXJtYXRpb24pIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNNYXRjaGluZyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSwgY29uZmlybWF0aW9uKVxyXG59XHJcblxyXG4vKiBJTVBMRU1FTlRBVElPTiBPRiBNRVRIT0RTIEZPUiBOVU1CRVJTICovXHJcblxyXG5OdW1iZXIucHJvdG90eXBlLmhhc0ZyYWN0aW9uYWxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaGFzRnJhY3Rpb25hbFZhbHVlKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpKVxyXG59XHJcblxyXG5OdW1iZXIucHJvdG90eXBlLmlzUG9zaXRpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzUG9zaXRpdmUoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSkpXHJcbn1cclxuXHJcbk51bWJlci5wcm90b3R5cGUuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNOZWdhdGl2ZShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSlcclxufVxyXG5cclxuTnVtYmVyLnByb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmlzWmVybyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKSlcclxufVxyXG5cclxuTnVtYmVyLnByb3RvdHlwZS5pc0luUmFuZ2UgPSBmdW5jdGlvbiAobWluLCBtYXgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNJblJhbmdlKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpLCBtaW4sIG1heClcclxufVxyXG5cclxuLyogSU1QTEVNRU5UQVRJT04gT0YgTUVUSE9EUyBGT1IgQVJSQVlTICovXHJcblxyXG5BcnJheS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gZnZhbGlkYXRpb24uaXNFbXB0eSh0aGlzKVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuYXJlQWxsTnVtYmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIWZ2YWxpZGF0aW9uLmlzQXJyYXlPZlR5cGVzKHRoaXMsIFsnbnVtYmVyJywgJ3N0cmluZyddKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmFyZUFsbE51bWJlcnModGhpcylcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmFyZUFsbFBvc2l0aXZlcyA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIWZ2YWxpZGF0aW9uLmlzQXJyYXlPZlR5cGVzKHRoaXMsIFsnbnVtYmVyJywgJ3N0cmluZyddKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmFyZUFsbFBvc2l0aXZlcyh0aGlzKVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuYXJlQWxsTmVnYXRpdmVzID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghZnZhbGlkYXRpb24uaXNBcnJheU9mVHlwZXModGhpcywgWydudW1iZXInLCAnc3RyaW5nJ10pKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZnZhbGlkYXRpb24uYXJlQWxsTmVnYXRpdmVzKHRoaXMpXHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5hcmVBbGxaZXJvcyA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIWZ2YWxpZGF0aW9uLmlzQXJyYXlPZlR5cGVzKHRoaXMsIFsnbnVtYmVyJywgJ3N0cmluZyddKSkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIGZ2YWxpZGF0aW9uLmFyZUFsbFplcm9zKHRoaXMpXHJcbn1cclxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJmdmFsaWRhdGlvbiIsImNvbnN0cnVjdG9yIiwidGhpcyIsImVtYWlsUmVnZXgiLCJkYXRlUmVnZXgiLCJkYXRlUmVnZXhZZWFyRmlyc3QiLCJzeW1ib2xzUmVnZXgiLCJjdXJyZW50WWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsIm1pblB3ZExlbmdodCIsIm1heFB3ZExlbmd0aCIsIkluZmluaXR5IiwibWluQW1vdW50TG93ZXJMZXR0ZXJzIiwibWluQW1vdW50Q2FwaXRhbExldHRlcnMiLCJtaW5BbW91bnROdW1iZXJzIiwibWluQW1vdW50U3ltYm9scyIsImVycm9yQ29kZXMiLCJkYXRlIiwieWVhcklzTm90UG9zaXRpb25lZFdoZXJlSXRTaG91bGQiLCJkYXlJc0xlc3NUaGFuWmVybyIsIm1vbnRoSXNMZXNzVGhhblplcm8iLCJ5ZWFySXNOb3RJblJhbmdlIiwibW9udGhJc0dyZWF0ZXJUaGFuUGVybWl0dGVkIiwiZGF5SXNHcmVhdGVyVGhhblBvc3NpYmxlIiwicGFzc3dvcmQiLCJsZW5ndGhJc0xvd2VyVGhhblBlcm1pdHRlZCIsImxlbmd0aElzR3JlYXRlclRoYW5QZXJtaXR0ZWQiLCJjYXBpdGFsTGV0dGVyc0Ftb3VudElzTGVzc1RoYW5QZXJtaXR0ZWQiLCJsb3dlckxldHRlcnNBbW91bnRJc0xlc3NUaGFuUGVybWl0dGVkIiwic3ltYm9sc0Ftb3VudElzTGVzc1RoYW5QZXJtaXR0ZWQiLCJlcnJvciIsImNoYW5nZVBhc3N3b3JkVmFsaWRhdGlvbiIsIm1heFB3ZExlbmdodCIsImNvbnNvbGUiLCJpc0FycmF5T2ZUeXBlIiwiYXJyYXkiLCJ0eXBlIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJpc0FycmF5T2ZUeXBlcyIsInR5cGVzIiwic29tZSIsImlzRW1wdHkiLCJsZW5ndGgiLCJoYXNTcGFjZXMiLCJ0cmltIiwiaW5jbHVkZXMiLCJoYXNGcmFjdGlvbmFsVmFsdWUiLCJpc051bWJlciIsInBhcnNlSW50IiwidG9TdHJpbmciLCJOdW1iZXIiLCJpc05hTiIsImFyZUFsbE51bWJlcnMiLCJ2YWx1ZXMiLCJpc1Bvc2l0aXZlIiwiYXJlQWxsUG9zaXRpdmVzIiwiaXNOZWdhdGl2ZSIsImFyZUFsbE5lZ2F0aXZlcyIsImlzWmVybyIsImFyZUFsbFplcm9zIiwiaXNJblJhbmdlIiwibWluIiwibWF4IiwiaXNJbkxlbmd0aFJhbmdlIiwiaXNFbWFpbCIsImVtYWlsIiwidGVzdCIsImdldEZpZWxkSW5kZXhGcm9tRGF0ZSIsImRhdGVGb3JtYXQiLCJ0b0ZpbmQiLCJmaWVsZHMiLCJzcGxpdCIsImluZGV4T2YiLCJmaW5kIiwiZmllbGQiLCJpc1llYXJQb3NpdGlvbmVkQ29ycmVjdGx5IiwiaXNWYWxpZERhdGUiLCJtaW5ZZWFyIiwibWF4WWVhciIsImRheU51bSIsIm1vbnRoTnVtIiwieWVhck51bSIsImlzTGVhcFllYXIiLCJpc1ZhbGlkUGFzc3dvcmQiLCJjYXBpdGFsQ291bnQiLCJyZXBsYWNlIiwibG93ZXJDb3VudCIsInN5bWJvbHNDb3VudCIsImlzTWF0Y2hpbmciLCJjb25maXJtYXRpb24iLCJtYXRjaCIsImFsbG93ZWRUeXBlc051bWJlck1ldGhvZHMiLCJhbGxvd2VkVHlwZXNTdHJpbmdNZXRob2RzIiwiaXNUeXBlQWxsb3dlZCIsImFsbG93ZWQiLCJ0b0NoZWNrIiwidW5kZWZpbmVkIiwiSFRNTElucHV0RWxlbWVudCIsInByb3RvdHlwZSIsIlN0cmluZyIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=